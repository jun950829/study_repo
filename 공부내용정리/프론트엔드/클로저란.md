# Closure(클로저) 란?

### 클로저란
함수가 선얼될 상시의 외부 스코프를 기억하고, 그 스코프에 접근할 수 있는 함수를 말합니다.
즉, 함수 안에서 선언된 내부 함수가 외부 함수의 변수에 접근 할 수 있는 구조

```
function outer() {
    let count = 0;
    
    function inner() {
        count++;
        console.log(count);
    }
    
    return inner;
}

const counter = outer();
counter(); // 1
counter(); // 2
counter(); // 3

```

- outer()가 실행되면 inner 함수가 만들어지고 반환.
- outer()의 실행이 끝났지만, inner()는 여전히 count 변수에 접근 가능
- inner가 outer의 변수(count)를 기억하고 유지


### 클로저의 핵심 메커니즘
1.	함수가 선언될 때의 “렉시컬 스코프”를 기억한다.
--> 실행 시점이 아니라 선언 시점의 스코프를 따른다.
2.	외부 함수가 종료되어도 내부 함수가 그 변수에 접근 가능하다.
--> GC(Garbage Collection)가 해당 변수를 제거하지 않는다.
3.	데이터 은닉 또는 상태 유지에 자주 사용된다.

### 주의할 점
- 메모리 누수: 클로저는 외부 변수를 계속 참조하므로, 불필요하게 오래 유지되면 메모리를 점유할 수 있음
- this 바인딩: 클로저 내부에서 this는 상위 스코프의 this 를 자동으로 상속하지 않음 -> arrow function을 사용하면 해결됌