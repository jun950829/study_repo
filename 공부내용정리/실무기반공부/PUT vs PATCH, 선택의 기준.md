# PUT vs PATCH, 선택한 기준

> “수정 API는 PUT이 맞나요, PATCH가 맞나요?”

회사에서 백엔드 개발자가 수정에 대한 API의 METHOD를 모두 PUT으로 만들어놓은 걸 보고 한 번 PUT과 PATCH를 정리해서 공유해야겠다는 생각을 했고,
그래서 오늘은 이 질문에 대해 스펙 설명이 아니라, 실무에서 실제로 겪은 경험을 바탕으로 정리해보려고 한다.

---

REST API를 처음 배울 때는 이렇게 배운다.
•	PUT: 리소스 전체 수정 (replace)
•	PATCH: 리소스 일부 수정 (partial update)

이론만 보면 명확하다. 하지만 실무에 들어오면 상황이 조금 달라진다.

---

## 실무에서 마주친 문제

### 1. 프론트는 항상 전체 데이터를 들고 있지 않다

#### 프론트엔드에서는 보통 이렇게 동작한다.
- 수정 화면에 필요한 필드만 조회
- 사용자가 수정한 값만 서버로 전송

```
{
    "nickname": "철수",
    "profileImageUrl": "..."
}
```

#### 이때 PUT을 사용하면 어떤 문제가 생길까?

- 서버 입장에서는 누락된 필드가 null인지, 유지해야 하는지 판단이 필요
- 결과적으로 서버에서 방어 코드가 늘어난다

---

### 2. PUT을 쓰지만 사실상 PATCH처럼 쓰고 있었다

실무에서 종종 보게 되는 코드다.

```
public void updateUser(User user, UserUpdateRequest req) {
    if (req.getNickname() != null) {
        user.changeNickname(req.getNickname());
    }
}
```

HTTP Method는 PUT인데, 동작은 완전 PATCH다.

이 순간부터 “이게 과연 PUT일까?” 라는 질문이 생긴다.

---

### 내가 팀에서 정리한 기준

> PATCH를 사용하는 경우
- 수정 필드가 가변적일 때
- 프론트에서 일부 필드만 전송할 때
- 관리 페이지, 설정 화면, 프로필 수정

```
    PATCH /users/{id}
```

---

> PUT을 사용하는 경우
- 리소스 구조가 명확히 고정되어 있을 때
- 프론트에서 항상 전체 데이터를 보낼 수 있을 때
- “덮어쓴다”는 의미가 중요한 경우

```
    PUT /templates/{id}
```

---

## DB나 서버 부하는 차이가 있을까?

결론부터 말하면 거의 없다.
- 둘 다 결국 UPDATE 쿼리 실행
- 차이는 설계 의도와 코드 가독성

오히려 잘못된 메서드 선택으로 인해:
- null 방어 코드 증가
- 의도 파악이 어려운 API
- 프론트/백엔드 간 커뮤니케이션 비용 증가

이게 더 큰 비용일 것이다.

---

HTTP Method는 스펙 문제가 아니라 협업 문제다.

- 프론트의 데이터 흐름을 이해하고
- 백엔드의 도메인 규칙을 고려해서
- 팀이 오해하지 않는 선택을 하는 것

⸻--

오늘의 결론
- 이론적으로 맞는 것보다 팀에서 자연스러운 것이 중요
- PUT/PATCH 논쟁보다 의도를 드러내는 API 설계가 핵심
- 실무에서는 PATCH가 생각보다 훨씬 많이 쓰인다
